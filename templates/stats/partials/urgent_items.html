{% load sprite_tags %}
<!-- Urgent Items Section -->
{% if urgent_items.overdue or urgent_items.due_today or urgent_items.follow_ups %}
<div class="bg-white shadow overflow-hidden sm:rounded-lg mb-4" >
    <div class="border-t border-gray-200">
        {% if urgent_items.overdue %}
        <div class="px-4 py-3 bg-red-50">
            <h4 class="font-medium text-red-700 mb-2">Overdue Items ({{ urgent_items.overdue|length }})</h4>
        </div>
        <ul class="divide-y divide-gray-200">
            {% for item in urgent_items.overdue %}
            <li class="px-4 py-4 relative">
                {% include './item_row.html' with item=item %}
            </li>
            {% endfor %}
        </ul>
        {% endif %}

        {% if urgent_items.due_today %}
        <div class="px-4 py-3 bg-orange-50 border-t-2 border-gray-300">
            <h4 class="font-medium text-red-700 mb-2">Due Today ({{ urgent_items.due_today|length }})</h4>
            {% for item in urgent_items.due_today %}
            <div class="text-sm text-red-600 mb-1 flex items-center">
                <span class="inline-block w-2 h-2 bg-orange-500 rounded-full mr-2"></span>
                {{ item.title }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if urgent_items.follow_ups %}
        <div class="px-4 py-3 bg-yellow-50 border-t-2 border-gray-300">
            <h4 class="font-medium text-red-700 mb-2">Follow-ups Needed ({{ urgent_items.follow_ups|length }})</h4>
            {% for item in urgent_items.follow_ups %}
            <div class="text-sm text-red-600 mb-1 flex items-center">
                <span class="inline-block w-2 h-2 bg-yellow-500 rounded-full mr-2"></span>
                {{ item.title }}
                {% if item.waiting_for_person %}
                <span class="text-xs text-red-500 ml-2">({{ item.waiting_for_person }})</span>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>
{% endif %}